<div class="container-fluid">
  <div class="row no-gutters">
    <!-- Sidebar -->
    <nav class="col-md-3 col-lg-2 d-md-block bg-dark sidebar" id="sidebarMenu">
      <div class="position-sticky">
        <ul class="nav flex-column">
          <li class="nav-item mb-3">
            <a
              routerLink="/home"
              routerLinkActive="active"
              (click)="home()"
              class="nav-link text-white"
            >
              <i class="bi bi-house mr-2"></i> Home
            </a>
          </li>
          <li class="nav-item mb-3">
            <a
              routerLink="/time-table"
              routerLinkActive="active"
              (click)="timetable()"
              class="nav-link text-white"
            >
              <i class="bi bi-calendar3 mr-2"></i> Time Table
            </a>
          </li>
          <!-- <li class="nav-item mb-3">
            <a routerLink="/students-management" routerLinkActive="active" (click)="studentsmanagement()" class="nav-link text-white">
              <i class="bi bi-person-workspace mr-2"></i> Students Management
            </a>
          </li> -->
          <li class="nav-item mb-3">
            <a
              routerLink="/attendance-management"
              routerLinkActive="active"
              (click)="attendancemanagement()"
              class="nav-link text-white"
            >
              <i class="bi bi-check-square mr-2"></i> Attendance Management
            </a>
          </li>
          <li class="nav-item mb-3">
            <a
              routerLink="/attendance-management"
              routerLinkActive="active"
              (click)="newAttendancemanagement()"
              class="nav-link text-white"
            >
              <i class="bi bi-check-square mr-2"></i> New Attendance Management
            </a>
          </li>
          <li class="nav-item mb-3">
            <a
              routerLink="/ia-module"
              routerLinkActive="active"
              (click)="iamodule()"
              class="nav-link text-white"
            >
              <i class="bi bi-card-list mr-2"></i> IA Module
            </a>
          </li>
          <li class="nav-item mb-3">
            <a
              routerLink="/question-bank"
              routerLinkActive="active"
              (click)="questionbank()"
              class="nav-link text-white"
            >
              <i class="bi bi-book mr-2"></i> Question Bank
            </a>
          </li>

          <!-- <li class="nav-item mb-3">
            <a routerLink="/ia-module" routerLinkActive="active" (click)="iamodule()" class="nav-link text-white">
              <i class="bi bi-card-list mr-2"></i> IA Module
            </a>
          </li> -->
          <li class="nav-item mb-3">
            <a
              routerLink="/feedback-system"
              routerLinkActive="active"
              (click)="feedbacksystem()"
              class="nav-link text-white"
            >
              <i class="bi bi-chat-dots mr-2"></i> Feedback System
            </a>
          </li>
          <li class="nav-item mb-3">
            <a
              routerLink="/lesson-plan"
              routerLinkActive="active"
              (click)="lessonplan()"
              class="nav-link text-white"
            >
              <i class="bi bi-file-earmark-text mr-2"></i> Lesson Plan
            </a>
          </li>
          <li class="nav-item mb-3">
            <a
              routerLink="/teaching-aids"
              routerLinkActive="active"
              (click)="teachingaids()"
              class="nav-link text-white"
            >
              <i class="bi bi-easel mr-2"></i> Teaching Aids
            </a>
          </li>
          <!-- <li class="nav-item mb-3">
            <a routerLink="/personal-documents" routerLinkActive="active" (click)="personaldocuments()" class="nav-link text-white">
              <i class="bi bi-folder mr-2"></i> Personal Documents
            </a>
          </li> -->
          <li class="nav-item mb-3">
            <a (click)="logout()" class="nav-link text-white">
              <i class="bi bi-box-arrow-right mr-2"></i> Logout
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Content Area -->
    <main
      class="col-md-9 col-lg-10 px-4 pt-4"
      style="background-image: url(./attendance.webp)"
    >
      <div class="text-center">
        <div class="container mt-5">
          <!-- <h2 class="text-center"><b>QUESTION BANK DETAILS</b></h2> -->

          <div class="card shadow-sm">
            <div class="card-body">
              <h2 class="text-center"><b> Attendance </b></h2>
              <table class="table table-striped table-bordered table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th>Semester</th>
                    <th>Attendance Document</th>
                    <th>Uploaded Date</th>
                    <th>Download</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Loop through the documents -->
                  <tr *ngFor="let document of lessonplandocuments">
                    <td>{{ document.semester }}</td>
                    <td>{{ document.fileName }}</td>
                    <td>{{ document.uploadDate | date : "shortDate" }}</td>
                    <!-- Date formatting -->

                    <td>
                      <a
                        [href]="
                          getDownloadLink(selectedSemester!, document.fileName)
                        "
                        download
                        class="btn btn-success btn-sm"
                      >
                        Download
                      </a>
                    </td>
                  </tr>
                  <!-- Message when no documents are available -->
                  <tr *ngIf="lessonplandocuments.length === 0">
                    <td colspan="4" class="text-center text-muted">
                      No documents available for the selected semester.
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
